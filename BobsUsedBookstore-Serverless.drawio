<mxfile host="app.diagrams.net" modified="2024-06-26T18:25:46.223Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:127.0) Gecko/20100101 Firefox/127.0" etag="M2eDsh6TZo07-zxznOl6" version="24.5.5" type="device">
  <diagram name="Page-1" id="34SCdHHRecSunIEm1Gn9">
    <mxGraphModel dx="2722" dy="2444" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="169" as="targetPoint" />
            <Array as="points">
              <mxPoint x="999" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="529" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-80" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.users;" parent="1" vertex="1">
          <mxGeometry x="20" y="-621.22" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-80" target="7WpZ0iJpJy3THZHLrlA9-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-124" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1660" y="-920" width="540" height="520" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-82" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EAEDED;fontSize=22;fontColor=#FFFFFF;strokeColor=none;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry width="540" height="504.7383885783871" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-83" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="11.521335807050091" y="19.522899935579122" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-84" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="10.018552875695732" y="85.71029240010347" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-85" value="Search books can be done as Guest and Authenticated user. Fetch data from Database, and check if the published image bucket has image mapped to it. If not, refer default image." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="63.11688311688311" y="19.04673164446744" width="449.83302411873836" height="57.14019493340231" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-86" value="Only Authorized users can Add book. Validate input, and process the data." style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="62.11502782931354" y="86.18646069121516" width="450.83487940630795" height="47.140660820056915" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-95" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="10.018552875695732" y="142.85048733350575" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-96" value="Save valid data in the database" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="62.11502782931354" y="143.32665562461747" width="450.83487940630795" height="37.61729499782319" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-97" value="5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="11.521335807050091" y="247.60751137807665" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-98" value="Image upload S3 event to validate image through EventBridge Rule" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="63.6178107606679" y="248.08367966918837" width="450.83487940630795" height="47.140660820056915" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-99" value="6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="11.521335807050091" y="301.6811825167197" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-100" value="Trigger step function to validate image using Recognition Service. If the image is safe, Resize and move it to Published bucket. Unsafe images stay in same bucket for review " style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="63.6178107606679" y="302.15735080783134" width="450.83487940630795" height="50.207184614816164" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-101" value="7" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="11.521335807050091" y="361.0974618816358" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-102" value="Resized safe images in S3 bucket are exposed through CloudFront to use it in the front end" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="63.6178107606679" y="361.5736301727475" width="450.83487940630795" height="50.207184614816164" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-103" value="8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="11.521335807050091" y="411.77647079613604" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-104" value="Update book follows same flow as Add Book" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="63.6178107606679" y="412.25263908724776" width="450.83487940630795" height="50.207184614816164" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-106" value="4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="11.521335807050091" y="199.9906822669081" width="40.07421150278293" height="36.18879012448813" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-107" value="Generate Presigned URL of the prefix for book id to upload multiple images" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="7WpZ0iJpJy3THZHLrlA9-124" vertex="1">
          <mxGeometry x="63.6178107606679" y="200.46685055801976" width="450.83487940630795" height="37.61729499782319" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-31" value="Search Books" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="1042.1442857142858" y="-698.2910504201681" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-32" value="S3 - Published Image" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" parent="1" vertex="1">
          <mxGeometry x="641.6978571428572" y="-828.6512605042017" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-33" value="CloudFront" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;" parent="1" vertex="1">
          <mxGeometry x="322.50142857142856" y="-828.6512605042017" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-31" target="7WpZ0iJpJy3THZHLrlA9-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-32" target="7WpZ0iJpJy3THZHLrlA9-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-31" target="7WpZ0iJpJy3THZHLrlA9-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1483.2157142857143" y="-583.4264705882354" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-42" value="Amazon DynamoDB" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=middle;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=10;fontStyle=1;spacing=3;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.dynamodb;" parent="1" vertex="1">
          <mxGeometry x="1390.3585714285716" y="-643.3938235294117" width="92.85714285714286" height="118.08823529411764" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-39" value="API Gateway" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="1" vertex="1">
          <mxGeometry x="160.00142857142856" y="-626.2173529411765" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-39" target="7WpZ0iJpJy3THZHLrlA9-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450.68" y="-587" />
              <mxPoint x="450.68" y="-656" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-41" value="Search Books" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7WpZ0iJpJy3THZHLrlA9-40" vertex="1" connectable="0">
          <mxGeometry x="-0.1387" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-43" target="7WpZ0iJpJy3THZHLrlA9-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-43" value="Add Book" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="1042.1442857142858" y="-542.6323529411765" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-47" target="7WpZ0iJpJy3THZHLrlA9-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1378.7514285714285" y="-580.2058823529412" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1255.68" y="-377" />
              <mxPoint x="1255.68" y="-584" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-47" value="Update Book" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="1042.1442857142858" y="-419.17647058823536" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="8pEp6zr-1dx9gRKw9EJ5-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="-88" />
              <mxPoint x="900" y="-80" />
              <mxPoint x="1000" y="-80" />
              <mxPoint x="1048" y="-81" />
            </Array>
            <mxPoint x="1047.6800000000003" y="-80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8pEp6zr-1dx9gRKw9EJ5-5" value="Image Upload Event" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="8pEp6zr-1dx9gRKw9EJ5-4" vertex="1" connectable="0">
          <mxGeometry x="0.2351" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-51" value="S3 - Images to Validate" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="791.9957142857143" y="-127.0035294117647" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-80" target="7WpZ0iJpJy3THZHLrlA9-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1137.68" y="-243" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="59" y="-88" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wSWwaxY8uc_JUpJFEZCw-5" value="Upload Image using Pre-Signed URL" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7WpZ0iJpJy3THZHLrlA9-53" vertex="1" connectable="0">
          <mxGeometry x="0.449" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="CKhmzH0PO2RPskwirpl6-7" target="7WpZ0iJpJy3THZHLrlA9-32" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1580" y="289" />
              <mxPoint x="1580" y="-40" />
              <mxPoint x="1546" y="-40" />
              <mxPoint x="1546" y="-883" />
              <mxPoint x="681" y="-883" />
            </Array>
            <mxPoint x="1453.1800000000003" y="-204" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wSWwaxY8uc_JUpJFEZCw-4" value="Publish Valid Image" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7WpZ0iJpJy3THZHLrlA9-65" vertex="1" connectable="0">
          <mxGeometry x="-0.74" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-67" target="7WpZ0iJpJy3THZHLrlA9-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-74" value="Add Book" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7WpZ0iJpJy3THZHLrlA9-69" vertex="1" connectable="0">
          <mxGeometry x="-0.1615" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-67" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" parent="1" vertex="1">
          <mxGeometry x="475.18" y="-542.63" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-39" target="7WpZ0iJpJy3THZHLrlA9-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-70" target="7WpZ0iJpJy3THZHLrlA9-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-75" value="Update Book" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7WpZ0iJpJy3THZHLrlA9-71" vertex="1" connectable="0">
          <mxGeometry x="-0.141" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-70" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" parent="1" vertex="1">
          <mxGeometry x="475.18" y="-419.18000000000006" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-73" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="645.1800000000001" y="-698.29" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-87" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="645.1800000000001" y="-548.22" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-88" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="1203.18" y="-548.22" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-89" value="4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="952.84" y="-283" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-91" value="5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="939" y="-130" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-92" value="6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="1170" y="-140" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-93" value="8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="645.1800000000001" y="-423" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-94" value="7" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="513.1800000000001" y="-843" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-39" target="7WpZ0iJpJy3THZHLrlA9-70" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="355.68" y="-587" />
              <mxPoint x="355.68" y="-380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-115" value="Generate Pre-signed URL" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="1047.6842857142858" y="-282.9964705882353" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-116" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" parent="1" vertex="1">
          <mxGeometry x="475.18" y="-273" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.641;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-116" target="7WpZ0iJpJy3THZHLrlA9-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-120" value="Request Pre-Signed URL" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7WpZ0iJpJy3THZHLrlA9-118" vertex="1" connectable="0">
          <mxGeometry x="-0.1705" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-39" target="7WpZ0iJpJy3THZHLrlA9-116" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="357.68" y="-587" />
              <mxPoint x="357.68" y="-254" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="7WpZ0iJpJy3THZHLrlA9-115" target="7WpZ0iJpJy3THZHLrlA9-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1087" y="-160" />
              <mxPoint x="831" y="-160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7WpZ0iJpJy3THZHLrlA9-121" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Book/Inventory Service&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="747.6800000000001" y="-960" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-4" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.step_functions;" parent="1" vertex="1">
          <mxGeometry x="1290" y="-127" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-5" value="Image Validator" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#01A88D;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rekognition_2;" parent="1" vertex="1">
          <mxGeometry x="1480" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="veWnR6rFRMyaUHu4d1lK-5" target="CKhmzH0PO2RPskwirpl6-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-9" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="CKhmzH0PO2RPskwirpl6-8" vertex="1" connectable="0">
          <mxGeometry x="0.2332" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="CKhmzH0PO2RPskwirpl6-6" target="CKhmzH0PO2RPskwirpl6-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-15" value="Validate Image" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="CKhmzH0PO2RPskwirpl6-10" vertex="1" connectable="0">
          <mxGeometry x="0.2908" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-6" value="Validate Image" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="1290.0042857142855" y="0.0035294117647026724" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-7" value="Resize Image" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="1292.0042857142855" y="250.0035294117647" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="CKhmzH0PO2RPskwirpl6-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1125.6800000000003" y="-88" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CKhmzH0PO2RPskwirpl6-17" value="Validate Image" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="CKhmzH0PO2RPskwirpl6-16" vertex="1" connectable="0">
          <mxGeometry x="-0.0397" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="veWnR6rFRMyaUHu4d1lK-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="CKhmzH0PO2RPskwirpl6-4" target="CKhmzH0PO2RPskwirpl6-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="veWnR6rFRMyaUHu4d1lK-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="CKhmzH0PO2RPskwirpl6-6" target="veWnR6rFRMyaUHu4d1lK-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1329" y="78" as="sourcePoint" />
            <mxPoint x="1329" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="veWnR6rFRMyaUHu4d1lK-5" value="Is image sage?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1290" y="130" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="veWnR6rFRMyaUHu4d1lK-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="veWnR6rFRMyaUHu4d1lK-5" target="7WpZ0iJpJy3THZHLrlA9-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="veWnR6rFRMyaUHu4d1lK-8" value="No, Leave it in the bucket for Review" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="veWnR6rFRMyaUHu4d1lK-7">
          <mxGeometry x="-0.2035" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="veWnR6rFRMyaUHu4d1lK-10" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#E7157B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.event;" vertex="1" parent="1">
          <mxGeometry x="1060" y="-130" width="78" height="78" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
